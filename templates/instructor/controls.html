{% extends "layout.html" %}

{% block content %}

<div id="vue-app">

<span id="attend_string" style="display:none">{{attend_list}}</span>
<span id="team_string" style="display:none">{{team_list}}</span>

<div class="content-section">    
     <legend class="border-bottom mb-4">Controls</legend>
 


Notice <input type="text" id="notice" style="margin-left:5px"></input> 
<br>
<br>
Unit <input type="text" id="unit" style="margin-left:5px"></input> 
<br>
<br>
Set
<select id="set" name="cars">  
    <option value="97">Closed</option>
    <option value="98">Open</option>
    <option value="99">Late</option>
    <option value="50">Review</option>
    <option value="51">Review Late</option>
    <option value="100">Clear</option>  
</select>
<br>
<br>
Teamcount
<select id="teamcount" name="cars">
<template v-for="i in 20">
    <option value="i">[[i]]</option>
</template>
</select>
<br>
<br>
Teamsize
<select id="teamcount" name="cars">
<template v-for="i in 4">
    <option value="i">[[i]]</option>
</template>
</select>
<br>
<button class="btn btn-outline-warning"> Set Att</button>


<br>
<a href='https://affairs.just.edu.tw/TeacherStuApp/Default.aspx'> Attendance</a>
<a href='http://deanapp.just.edu.tw/teacher/Default.aspx'>Syllabus</a>
<a href='https://md.just.edu.tw/login/index.php'>Moodle</a>
<a href='https://hrapp.just.edu.tw/hr_personal/Default.aspx'>Personnel</a> 
    
</div>

<div class="content-section"> 
        <legend class="border-bottom mb-4">Students</legend>
    
    <div style="overflow-x:auto;width:80%">
      <table class="table table-sm">
        <thead>
            <tr>
              <th scope="col" >Img</th>  
              <th scope="col" >Name</th>                                  
              <th scope="col" >ID</th>                       
              <th scope="col" >att</th>                       
              <th scope="col" >email</th>                       
                                   
            </tr>
        </thead> 
        
        <tbody>
        <template v-for="(user, key) in attendOBJ"> 
            
            <tr>
              <td> <img class="rounded-circle small-img" :src="user.img"></td>  
              <td> [[ key ]] </td>  
              <td> [[ user.idn]] </td>  
              <td style="color:red"> [[ user.att]] </td>  
              <td> <a :href="user.eml">Email</a> </td> 

            </tr>  
        </template>     
            
        </tbody>   
   
      </table>
    </div>

</div> 

<div class="content-section"> 
        <legend class="border-bottom mb-4">Teams</legend>
    
    <div style="overflow-x:auto;width:80%">
      <table class="table table-sm">
        
        <tbody>
        <template v-for="(team, number) in teamOBJ">             
            <tr>
              <td> [[ number ]] </td>
              <template v-for="mem in team">    
              <td> [[ mem ]] </td>  
              </template>    
            </tr>  
        </template>     
            
        </tbody>   
   
      </table>
    </div>

</div>   
   

   

</div> <!-- end of Vue app -->


{% endblock %}

{% block script %}   

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>

<script type="text/javascript" >

var attend_list = document.getElementById('attend_string').innerHTML
var attendOBJ = JSON.parse(attend_list)
console.log('AttOBJ', attendOBJ);
var team_list = document.getElementById('team_string').innerHTML
var teamOBJ = JSON.parse(team_list)
console.log('teamOBJ', teamOBJ);


startVue(attendOBJ, teamOBJ)

function startVue(attendOBJ, teamOBJ){ new Vue({   

    el: '#vue-app',
    delimiters: ['[[', ']]'],
    mounted: function(){
        
    },
    data: {
        attendOBJ : attendOBJ, 
        teamOBJ : teamOBJ        
    }, 
    methods: {   
        setButtons: function(QorS, total) { 
         
        }                  
    }         
})// end NEW VUE



}// endFunction 

</script> 


{% endblock %} 

