{% extends "layout.html" %}

{% block content %}


<div id="vue-app">
 

<div class="list-section" v-for="(week, key ) in course">
    <h1> Week [[ key ]] </h1>

    <template v-for="(val, name) in week">   
    <div v-bind:style="style(name)">
       <span style="">  [[ name ]]: [[val]] </span>
    </div>
    
    </template>   
    <br> 

</div>  


</div> <!-- end of Vue app -->

<span id="course" stlye="display:none"> {{course}} </span>
<span id="color" stlye="display:none"> {{color}} </span>

{% endblock %}




{% block script %}   
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script type="text/javascript">

let colorSTR = document.getElementById('color').innerHTML
let color =  JSON.parse(colorSTR)
let courseSTR = document.getElementById('course').innerHTML
let course =  JSON.parse(courseSTR)

let app =  new Vue({   

    el: '#vue-app',
    delimiters: ['[[', ']]'],  
    data: { 
        course: course,         
    }, 
    methods: {
        style: function(name){
            let styles = {
                G1 : { fontSize : '15px'},
                G2 : { fontSize : '15px'},
                Unit : { fontSize : '30px', fontWeight: 'bold'}, 
                Title : { color : color['titleColor'], fontSize : '20px' }
            }
            return styles[name]
        }
    }    
})

</script>  

{% endblock %} 