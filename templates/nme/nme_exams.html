{% extends "layout.html" %}

{% block content %}

<div id="vue-app">

    <div class="content-section">
            <h1> Novel Exams </h1>

    </div>

    <div class="content-section">
      <legend class="border-bottom mb-4"> Exam List </legend>

    </div>

</div>

<span id="user" style="display:none">{{current_user.username}}</span>
<span id="eString" style="display:none">{{eString}}</span>

</div> <!-- end of Vue app -->


{% endblock %}

{% block script %}

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>

<script type="text/javascript" >


var eString = document.getElementById('lString').innerHTML

var eObj = JSON.parse(eString)
console.log('eObj', eObj);


startVue()

function startVue(){ new Vue({

    el: '#vue-app',
    delimiters: ['[[', ']]'],
    mounted: function(){
    },
    data: {
        eObj: eObj
    },
    methods: {
        goTo: function(task, index) {

          let name = document.getElementById('user').innerHTML

          var str = window.location.href

          let url = (str).split('nme_')[0] + task + '/'+ index
          console.log('goTO', url);
            window.location = url
            console.log('DONE');
        },
    }
})// end NEW VUE



}// endFunction

</script>

{% endblock %}

