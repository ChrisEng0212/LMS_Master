{% extends "layout.html" %}

{% block content %}

<span id="stage" style="display:none">{{stage}}</span>
<span id="grade" style="display:none">{{grade}}</span>

<div id="vue-app">

<div class="content-section">    
        <h1> Exam Projects </h1>
    </div>
    <div class="content-section">
    <div class="embed-responsive embed-responsive-4by3">
            <iframe id="questions_embed" src="{{source}}"
            allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true">
	        </iframe>
    </div>   
    
</div>

<div class="content-section">

<legend class="border-bottom mb-4"> Your Score: </legend>

<span v-if="status[1]" :style="linkStyle()" @click="goTo('1')"> Stage 1: Choose Product </span> -- Deadline: Mar 22
<br>
<br>
<span v-if="status[2]" :style="linkStyle()" @click="goTo('2')"> Stage 2: Prepare Plan </span>
<br>
<br>
<span v-if="status[3]" :style="linkStyle()" @click="goTo('3')"> Stage 3: Practice Speaking </span>
<br>
<br>
<span v-if="status[4]" :style="linkStyle()" @click="goTo('4')"> Stage 4: Practice with Cue Cards </span>
  

</div>  

   

</div> <!-- end of Vue app -->


{% endblock %}

{% block script %}   

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>

<script type="text/javascript" >

var stage = document.getElementById('stage').innerHTML
var grade = document.getElementById('grade').innerHTML
//var OBJ = JSON.parse(projectDict)
//console.log('projecDict', OBJ);


startVue()

function startVue(){ new Vue({   

    el: '#vue-app',
    delimiters: ['[[', ']]'],
    mounted: function(){        
    },
    data: {
        stage: stage,
        status: {
          1 : true, 
          2 : false, 
          3 : false, 
          4 : false
        }         
    }, 
    methods: {  
      goTo: function(link) { 
          let url = (str).split('_list')[0] + '/MT/' + link
          console.log('goTO', url);
          window.location = url            
        },                 
        linkStyle: function(link) { 

          return {padding:'4px', 'font-size':'15px', background:'purple', color:'white', border:'1px sold white', 'border-radius':'5px', width:'20%'}
            
        }
                  
    }         
})// end NEW VUE



}// endFunction 

</script>  

{% endblock %} 

