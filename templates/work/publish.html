{% extends "layoutWriting.html" %}

{% block content %}

<div id="vue-app">

    <span id="sources" style="display:none">{{sources}}</span>
    <span id="fullDict" style="display:none">{{fullDict}}</span>

    <div class="list-section">
        <h1 style="display:inline"> Publish </h1>
        <h1 id="unit" style="display:inline">{{unit}}</h1>
        <br><br>

        <h3> Image </h3>
        <img class="rounded img-fluid" id="final_image" alt="No file yet" style="max-width:60%"  src="">
        <br><br>
        <input type="file" id="pic" accept="image/*" @change="fileValidation()"> <button class="btn btn-sm"> Upload Image </button>
        <br>
        <br>
        <span style="color:white"> Add your Title --></span>

        <h5 style="color:tomato"> REMEMBER: A title uses capital letter for the main words eg (
            <span style="color:yellow"> H</span>ow to
            <span style="color:yellow"> W</span>rite a
            <span style="color:yellow"> G</span>ood
            <span style="color:yellow"> T</span>itle)
        </h5>
        <textarea class="input3" id="title" @focus="selectText('title')" @blur="deSelect('title', '0')" v-model="title"></textarea>

        <h1 v-model="title">[[ title ]]</h1>

        <legend class="border-bottom mb-4">
        <img class="rounded-circle chat-img" style="display:inline-block" :src="getImage(info['avatar'])">
        <span :style="theme"> Written by [[  info['name']  ]]  </span>
        </legend>

        <br>
        <h4> Final Work </h4>

        <div style="background:darkslategrey; border-radius:5px">
        <p style="color:white; padding-left:8px; padding: 10px ;font-size:16px" v-model="publish"> [[ publish ]] </p>
        </div>

        <br>
        <h4> Final Fix (Check work for last minute changes) </h4>
        <div>
        <textarea class="input4" id="text" @focus="selectText('text')" @blur="deSelect('text', '0')" v-model="publish"></textarea>
        </div>

        <br>
        <h4> Original Draft </h4>
        <div style="background:firebrick; border-radius:5px">
            <p style="color:white; padding-left:8px; padding: 10px ;font-size:16px" v-model="text"> [[ publish ]] </p>
        </div>

        <br>
        <h4> Revision Notes </h4>
        <div style="background:GAINSBORO; border-radius:5px; width:100%">
            <p class="unselectable" v-html="html" align="justify" style="color:black; padding-left:8px; padding-right:8px;font-size:15px"> </p>
        </div>



    </div>


    <div class="list-section" v-if="save">
        <button type="button" class="btn btn-outline-success" style="background:dimgray;color:springgreen; width:48%" v-on:click="readRefs"> PUBLISH </button>
        <button type="button" class="btn btn-outline-danger" style="background:dimgray;color:tomato; width:48%"v-on:click="cancel"> CANCEL </button>
    </div>

</div> <!-- end of Vue app -->


{% endblock %}

{% block script %}
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script type="text/javascript" src="{{url_for('static', filename= 'js/writing/publish.js')}}"></script>
{% endblock %}