{% extends "layout.html" %}

{% block content %}

<div id="vue-app">

<div class="content-section">

<legend class="border-bottom mb-4">Performance</legend>
   <div style="overflow-x:auto;"> 
    <table class="table table-sm">
       <tbody>
          <tr>
            <td> Total Grade</td>   
            <td> [[examOBJ.total]]/100%</td>  
          </tr>       
          <tr>
            <td> Units</td>   
            <td> [[examOBJ.units]]/30%</td>  
          </tr>       
          <tr>
            <td> Assignments</td>   
            <td> [[examOBJ.asses]]/30%</td>  
          </tr>  
          <tr  style="height:30px">
            <td> 
              <span v-if="setOBJ['ex'] == 3"> Exam 1-2 Practice</span>
              <span v-else-if="setOBJ['12'] == 1" @click="goTo('1-2', 'review')" class="unit-span" style="background:{{theme}}; height:40px"> Exam 1-2 Practice </span>
              <span v-else> Exam 1-2 Practice</span>
            </td>   
            <td style="color:hotpink"> [[examOBJ.tries12]]</td>  
          </tr>       
          <tr>
            <td> 
              <span v-if="setOBJ['ex'] == 3"> Exam 3-4 Practice</span>
              <span v-else-if="setOBJ['34'] == 1" @click="goTo('3-4', 'review')" class="unit-span" style="background:{{theme}}; height:40px"> Exam 3-4 Practice </span> 
              <span v-else> Exam 3-4 Practice</span>
            </td>   
            <td style="color:hotpink"> [[examOBJ.tries34]]</td>  
          </tr>       
          <tr>
            <td> 
              <span v-if="setOBJ['ex'] == 3" @click="goTo('1-2', 'exam')" class="unit-span" style="background:{{theme}}; height:40px"> Exam 1-2 Grade </span> 
              <span v-else> Exam 1-2 Grade</span>
            </td>   
            <td> [[examOBJ.ex12]]/20%</td>  
          </tr>       
          <tr>
            <td>  <span v-if="setOBJ['ex'] == 3" @click="goTo('3-4', 'exam')" class="unit-span" style="background:{{theme}}; height:40px"> Exam 3-4 Grade </span> 
              <span v-else> Exam 3-4 Grade</span>
            </td>   
            <td> [[examOBJ.ex34]]/20%</td>  
          </tr>       
      </tbody>
    </table>   
  </div>   
</div>




<div class="content-section" style="background:lightpink">
<legend class="border-bottom mb-4">Game Zone</legend>
    
    <h1> <a href="https://pacific-peak-01747.herokuapp.com/"> Test your vocabulary </a> <h1>

</div> 
   

</div> <!-- end of Vue app -->


<span id="examString" style="display:none">{{examString}}</span>
<span id="setString" style="display:none">{{setString}}</span>

{% endblock %}

{% block script %}   

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>

<script type="text/javascript" >


/*
    if (color < .4) {
      button.style.background='#E74C3C'; 
    } else if (color < .6 ) {
      button.style.background='#E59866'; 
    } else if (color < .8 ) {
      button.style.background='#BB8FCE'; 
    } else if (color < 1) {
      button.style.background='#17A589'; 
    } else {
      button.style.background='#229954'; 
    }
*/


var examString = document.getElementById('examString').innerHTML
var examOBJ = JSON.parse(examString)
console.log('exam', examOBJ);
var setString = document.getElementById('setString').innerHTML
var setOBJ = JSON.parse(setString)
console.log('set', setOBJ);


startVue()

function startVue(){ 
  
  let vue = new Vue({   

    el: '#vue-app',
    delimiters: ['[[', ']]'],

    data: {         
        examOBJ: examOBJ,
        setOBJ: setOBJ,
    }, 
    methods: {        
        goTo: function(unit, test){
          var str = window.location.href
          
          let url = (str).split('exam_list')[0] + 'exams/' + test + '/' + unit
          console.log('goTO', url);
          window.location = url
         
        }
                  
    }         
})// end NEW VUE



}// endFunction 

</script>  

{% endblock %} 

